# Example configuration for running an experiment using the IWSLT-16 dataset.

include "../../data/iwslt16.conf"

data {
  train-batch-size: 512
  infer-batch-size: 128
  eval-batch-size: 128
}

model {
  parameters {
    word-embeddings-size: 128

    include "../../parameters/pairwise.conf"
  }

  include "../../models/transformer/transformer_base.conf"
}

training {
  both-directions: false
  languages: "fr:en"
  use-identity-translations: false
  checkpoint-frequency: 5000
  summary-frequency: 100

  curriculum {
    type: "difficulty"

    competency {
      type: "linear-step"
      initial-value: 0.05
      num-steps-full-competency: 20000
    }

    difficulty {
      type: "adaptive-length"
      selector: "target-sentence-length"
    }
  }
}

evaluation {
  frequency: 5000
  languages: "fr:en"
}
